function k(t){return{FlankerTask:"/flanker",Results:"/results",Instructions:"/instructions"}[t]||"/"}const g=async()=>{try{const a=await fetch("/api/record",{method:"GET"});if(a.ok){const n=await a.text();if(!n.trim()||n.trim()==="task_type,student_name,student_id,trial_number,stimulus_type,stimulus_display,correct_response,participant_response,reaction_time_ms,is_correct,session_start_time,timestamp")return{hasData:!1,tasks:[]};const s=n.trim().split(`
`);if(s.length<=1)return{hasData:!1,tasks:[]};const l=s[0].split(",").indexOf("task_type");if(l===-1)return{hasData:!0,tasks:["flanker"],count:s.length-1};const c=new Set;return s.slice(1).forEach(u=>{const i=u.split(",")[l];i&&c.add(i.replace(/"/g,""))}),{hasData:!0,tasks:Array.from(c),count:s.length-1}}}catch(a){console.warn("Failed to check API data:",a)}const t=JSON.parse(localStorage.getItem("flankerResults")||"[]"),r=JSON.parse(localStorage.getItem("stroopResults")||"[]"),o=JSON.parse(localStorage.getItem("visualSearchResults")||"[]"),e=[];return t.length>0&&e.push("flanker"),r.length>0&&e.push("stroop"),o.length>0&&e.push("visual_search"),{hasData:e.length>0,tasks:e,count:t.length+r.length+o.length}},f=async()=>{try{(await fetch("/api/record",{method:"DELETE"})).ok&&console.log("Cloud data cleared successfully")}catch(t){console.warn("Failed to clear API data:",t)}return localStorage.removeItem("flankerResults"),localStorage.removeItem("stroopResults"),localStorage.removeItem("visualSearchResults"),{success:!0}},m=t=>{switch(t){case"flanker":return"Flanker Task";case"stroop":return"Stroop Task";case"visual_search":return"Visual Search Task";default:return t}};export{f as a,k as c,g as d,m as g};
