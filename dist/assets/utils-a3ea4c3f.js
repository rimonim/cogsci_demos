function k(t){return{FlankerTask:"/flanker",Results:"/results",Instructions:"/instructions"}[t]||"/"}const h=async()=>{try{const a=await fetch("/api/record",{method:"GET"});if(a.ok){const n=await a.text();if(!n.trim()||n.trim()==="task_type,student_name,student_id,trial_number,stimulus_type,stimulus_display,correct_response,participant_response,reaction_time_ms,is_correct,session_start_time,timestamp")return{hasData:!1,tasks:[]};const e=n.trim().split(`
`);if(e.length<=1)return{hasData:!1,tasks:[]};const o=e[0].split(",").indexOf("task_type");if(o===-1)return{hasData:!0,tasks:["flanker"],count:e.length-1};const c=new Set;return e.slice(1).forEach(i=>{const l=i.split(",")[o];l&&c.add(l.replace(/"/g,""))}),{hasData:!0,tasks:Array.from(c),count:e.length-1}}}catch(a){console.warn("Failed to check API data:",a)}const t=JSON.parse(localStorage.getItem("flankerResults")||"[]"),r=JSON.parse(localStorage.getItem("stroopResults")||"[]"),s=[];return t.length>0&&s.push("flanker"),r.length>0&&s.push("stroop"),{hasData:s.length>0,tasks:s,count:t.length+r.length}},f=async()=>{try{(await fetch("/api/record",{method:"DELETE"})).ok&&console.log("Cloud data cleared successfully")}catch(t){console.warn("Failed to clear API data:",t)}return localStorage.removeItem("flankerResults"),localStorage.removeItem("stroopResults"),{success:!0}},d=t=>{switch(t){case"flanker":return"Flanker Task";case"stroop":return"Stroop Task";default:return t}};export{f as a,k as c,h as d,d as g};
