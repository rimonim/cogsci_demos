import{j as e}from"./index-c78af160.js";import{u as m,r as l}from"./react-vendor-36975316.js";import{C as p,c as g,b as f,a as j,B as k}from"./button-b2bad4e5.js";import{T as b}from"./TaskSwitchDialog-7b0fb39d.js";import{d as C,c as N}from"./utils-91facc64.js";import{c as v}from"./ui-vendor-7ca303c8.js";function F(){const t=m(),[n,r]=l.useState(!1),[a,o]=l.useState(null),[c,i]=l.useState(!1),h=async()=>{i(!0);try{const s=await C();s.hasData&&!s.tasks.includes("visual_search")?(o(s),r(!0)):t("/visual-search/task")}catch(s){console.error("Error checking existing data:",s),t("/visual-search/task")}finally{i(!1)}},d=async()=>{try{await N(),r(!1),t("/visual-search/task")}catch(s){console.error("Error clearing data:",s),t("/visual-search/task")}},x=()=>{r(!1),t("/visual-search/task")},u=()=>{r(!1)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-purple-50 p-6 flex items-center justify-center",children:e.jsxs(p,{className:"w-full max-w-xl bg-white/95 backdrop-blur-sm shadow-xl",children:[e.jsxs(g,{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[e.jsx(v,{className:"w-8 h-8 text-purple-600"}),e.jsx(f,{className:"text-2xl text-slate-900",children:"Visual Search Task"})]}),e.jsxs("p",{className:"text-slate-600 text-base mt-2",children:["Find the ",e.jsx("span",{className:"font-semibold text-blue-700",children:"blue vertical bar"})," (target) among distractors as quickly and accurately as possible."]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[e.jsx("div",{className:"w-1 h-8 bg-blue-600 rounded"}),e.jsx("span",{className:"text-slate-700 text-sm",children:"= Target"})]})]}),e.jsxs(j,{children:[e.jsxs("ul",{className:"text-slate-700 text-base space-y-2 mb-6",children:[e.jsxs("li",{children:["• Press ",e.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded text-xs font-mono",children:"J"})," if the target is present"]}),e.jsxs("li",{children:["• Press ",e.jsx("kbd",{className:"px-1 py-0.5 bg-white rounded text-xs font-mono",children:"K"})," if absent"]}),e.jsx("li",{children:"• Practice comes first, then the main task"})]}),e.jsx("div",{className:"text-center",children:e.jsx(k,{onClick:h,disabled:c,size:"lg",className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-4 text-lg",children:c?"Checking...":e.jsx(e.Fragment,{children:"Start Visual Search Task"})})})]})]})}),n&&e.jsx(b,{isOpen:n,onClearAndContinue:d,onContinueWithExisting:x,onCancel:u,existingTasks:(a==null?void 0:a.tasks)||[],currentTask:"visual_search",dataCount:(a==null?void 0:a.count)||0,newTaskName:"Visual Search"})]})}export{F as default};
